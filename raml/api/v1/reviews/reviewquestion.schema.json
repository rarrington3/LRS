{
    "id": "http://LRS/ReviewQuestion",
    "type": "object",
    "$schema": "http://json-schema.org/draft-03/schema",
    "required": [
        "questionId",
        "questionReference",
        "order",
        "questionText",
        "answerType",
        "potentialAnswers"
    ],
    "additionalProperties": false,
    "properties": {
        "questionId": {
            "description": "The question ID.",
            "type": "string"
        },
        "questionNumber": {
            "description": "The question number.",
            "type": "string"
        },
        "questionReference": {
            "description": "The question unique reference string for this question that is a combination of questionNumber and defect area (e.g. 'BA.002'). NOTE: This is generated by services when question is created.",
            "type": "string"
        },
        "parentQuestionId": {
            "description": "The question ID of this question's parent (if this question is a child)",
            "type": "string"
        },
        "parentQuestionConditionAnswers": {
            "description": "Collection of answers which will be used to test if this question can be displayed if this question is a child (i.e. has a parentQuestionId). Each answer here will be checked against the parent question's answer with an OR condition. If there are multiple answers on the parent question, this question will display if at least one answer matches at least one parent question answer (i.e. 'intersects').",
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "order": {
            "description": "The order in which this question needs to be displayed",
            "type": "integer"
        },
        "questionText": {
            "description": "The actual question text to display.",
            "type": "string"
        },
        "answerType": {
            "description": "The type of answer that the user will be able to select. (e.g. 'single' or 'multiple')",
            "type": "string"
        },
        "potentialAnswers": {
            "description": "Used to supply potential answers for this question (e.g. For answerType of 'single': [Yes, No] or [Yes, No, NA], for answerType of 'multiple': [1, 2, 3, ...]). Note that this uses the CommonDetail object which provides a code and description for each potentialAnswer. The description will be used for display (e.g. 'Standard Employment' or 'Part-time and Seasonal Employment'), the code will be used by the database and services (e.g. '1', '2').",
            "type": "array",
            "items": {
                "$ref": "CommonDetail"
            }
        },
        "answerToTriggerFinding": {
            "description": "If the user selects this answer code, a finding will be triggered. NOTE: This relates to the answerDetail.code",
            "type": "string"
        },
        "conditionsToDisplay" : {
            "description": "A collection of condition objects that the UI will use to determine if this question should be displayed. Conditions will relate to loan/defect summary field info. If no conditions are included the question is displayed. NOTE: if this question includes a parentQuestionId and parentQuestionConditionAnswers, that will also be used to display the question.",
            "type": "array",
            "items": {
                "$ref": "ReviewCondition"
            }
        },
        "allowableSourceCodes": {
            "description": "A collection of source Codes that could be selected when logging a finding. The source ID will relate to a source dictionary ojbect (e.g. 'Standard Employment', 'Maximum Mortgage Amount', etc.)",
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "allowableCauseCodes": {
            "description": "A collection of cause Codes that could be selected when logging a finding. The cause ID will relate to a cause dictionary ojbect (e.g. 'Amount not supported by documentation', 'Amounts cannot be confirmed', etc.)",
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "allowedSeverityCodes": {
            "description": "A collection of severity tier Codes that could be selected when logging a finding.",
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "questions": {
            "description": "Collection of qa model questions for this question in the defect area.",
            "type": "array",
            "items": {
                "$ref": "ReviewQuestion"
            }
        }
    }
}
